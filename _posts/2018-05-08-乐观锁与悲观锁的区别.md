---
layout: post
title: 乐观锁与悲观锁的区别
date: 2018-05-08
categories: 操作系统
tags: [计算机操作系统]
description: 乐观锁与悲观锁的区别
---

* content
{:toc}

### 乐观锁（Optimistic Lock）
顾名思义，非常乐观，拿数据的时候总是认为别人不会同时修改数据，所以在更新数据的时候会检查数据是否跟第一次读取的时候一致，如果不一致则放弃修改。

### 悲观锁（Pessimistic Lock）
在拿数据的时候总是认为会有人同时修改这条数据，所以提前上锁，其他人访问这条数据时需要等待锁的释放。

### 场景
- 响应速度：如果响应速度要求高，建议乐观锁，因为乐观锁不需要等待锁的释放，所以响应速度比悲观锁高。
- 冲突频率：如果冲突频率较高，保证成功率，如果冲突频率大，乐观锁会需要多次重试才能成功，代价比较大。
- 重试代价：如果重试代价大，建议采用悲观锁。
